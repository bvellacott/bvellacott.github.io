window.define.suspend && window.define.suspend();
define("./node_modules/regenerator-runtime/runtime.js",["module","exports"],function(module,exports){"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}var runtime=function(exports){"use strict";var Op=Object.prototype;var hasOwn=Op.hasOwnProperty;var undefined;var $Symbol=typeof Symbol==="function"?Symbol:{};var iteratorSymbol=$Symbol.iterator||"@@iterator";var asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator";var toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator;var generator=Object.create(protoGenerator.prototype);var context=new Context(tryLocsList||[]);generator._invoke=makeInvokeMethod(innerFn,self,context);return generator}exports.wrap=wrap;function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}var GenStateSuspendedStart="suspendedStart";var GenStateSuspendedYield="suspendedYield";var GenStateExecuting="executing";var GenStateCompleted="completed";var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};IteratorPrototype[iteratorSymbol]=function(){return this};var getProto=Object.getPrototypeOf;var NativeIteratorPrototype=getProto&&getProto(getProto(values([])));if(NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)){IteratorPrototype=NativeIteratorPrototype}var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype;GeneratorFunctionPrototype.constructor=GeneratorFunction;GeneratorFunctionPrototype[toStringTagSymbol]=GeneratorFunction.displayName="GeneratorFunction";function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){prototype[method]=function(arg){return this._invoke(method,arg)}})}exports.isGeneratorFunction=function(genFun){var ctor=typeof genFun==="function"&&genFun.constructor;return ctor?ctor===GeneratorFunction||(ctor.displayName||ctor.name)==="GeneratorFunction":false};exports.mark=function(genFun){if(Object.setPrototypeOf){Object.setPrototypeOf(genFun,GeneratorFunctionPrototype)}else{genFun.__proto__=GeneratorFunctionPrototype;if(!(toStringTagSymbol in genFun)){genFun[toStringTagSymbol]="GeneratorFunction"}}genFun.prototype=Object.create(Gp);return genFun};exports.awrap=function(arg){return{__await:arg}};function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if(record.type==="throw"){reject(record.arg)}else{var result=record.arg;var value=result.value;if(value&&_typeof(value)==="object"&&hasOwn.call(value,"__await")){return PromiseImpl.resolve(value.__await).then(function(value){invoke("next",value,resolve,reject)},function(err){invoke("throw",err,resolve,reject)})}return PromiseImpl.resolve(value).then(function(unwrapped){result.value=unwrapped;resolve(result)},function(error){return invoke("throw",error,resolve,reject)})}}var previousPromise;function enqueue(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl(function(resolve,reject){invoke(method,arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}this._invoke=enqueue}defineIteratorMethods(AsyncIterator.prototype);AsyncIterator.prototype[asyncIteratorSymbol]=function(){return this};exports.AsyncIterator=AsyncIterator;exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){if(PromiseImpl===void 0)PromiseImpl=Promise;var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})};function makeInvokeMethod(innerFn,self,context){var state=GenStateSuspendedStart;return function invoke(method,arg){if(state===GenStateExecuting){throw new Error("Generator is already running")}if(state===GenStateCompleted){if(method==="throw"){throw arg}return doneResult()}context.method=method;context.arg=arg;while(true){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if(context.method==="next"){context.sent=context._sent=context.arg}else if(context.method==="throw"){if(state===GenStateSuspendedStart){state=GenStateCompleted;throw context.arg}context.dispatchException(context.arg)}else if(context.method==="return"){context.abrupt("return",context.arg)}state=GenStateExecuting;var record=tryCatch(innerFn,self,context);if(record.type==="normal"){state=context.done?GenStateCompleted:GenStateSuspendedYield;if(record.arg===ContinueSentinel){continue}return{value:record.arg,done:context.done}}else if(record.type==="throw"){state=GenStateCompleted;context.method="throw";context.arg=record.arg}}}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(method===undefined){context.delegate=null;if(context.method==="throw"){if(delegate.iterator["return"]){context.method="return";context.arg=undefined;maybeInvokeDelegate(delegate,context);if(context.method==="throw"){return ContinueSentinel}}context.method="throw";context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if(record.type==="throw"){context.method="throw";context.arg=record.arg;context.delegate=null;return ContinueSentinel}var info=record.arg;if(!info){context.method="throw";context.arg=new TypeError("iterator result is not an object");context.delegate=null;return ContinueSentinel}if(info.done){context[delegate.resultName]=info.value;context.next=delegate.nextLoc;if(context.method!=="return"){context.method="next";context.arg=undefined}}else{return info}context.delegate=null;return ContinueSentinel}defineIteratorMethods(Gp);Gp[toStringTagSymbol]="Generator";Gp[iteratorSymbol]=function(){return this};Gp.toString=function(){return"[object Generator]"};function pushTryEntry(locs){var entry={tryLoc:locs[0]};if(1 in locs){entry.catchLoc=locs[1]}if(2 in locs){entry.finallyLoc=locs[2];entry.afterLoc=locs[3]}this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal";delete record.arg;entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}];tryLocsList.forEach(pushTryEntry,this);this.reset(true)}exports.keys=function(object){var keys=[];for(var key in object){keys.push(key)}keys.reverse();return function next(){while(keys.length){var key=keys.pop();if(key in object){next.value=key;next.done=false;return next}}next.done=true;return next}};function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod){return iteratorMethod.call(iterable)}if(typeof iterable.next==="function"){return iterable}if(!isNaN(iterable.length)){var i=-1,next=function next(){while(++i<iterable.length){if(hasOwn.call(iterable,i)){next.value=iterable[i];next.done=false;return next}}next.value=undefined;next.done=true;return next};return next.next=next}}return{next:doneResult}}exports.values=values;function doneResult(){return{value:undefined,done:true}}Context.prototype={constructor:Context,reset:function reset(skipTempReset){this.prev=0;this.next=0;this.sent=this._sent=undefined;this.done=false;this.delegate=null;this.method="next";this.arg=undefined;this.tryEntries.forEach(resetTryEntry);if(!skipTempReset){for(var name in this){if(name.charAt(0)==="t"&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))){this[name]=undefined}}}},stop:function stop(){this.done=true;var rootEntry=this.tryEntries[0];var rootRecord=rootEntry.completion;if(rootRecord.type==="throw"){throw rootRecord.arg}return this.rval},dispatchException:function dispatchException(exception){if(this.done){throw exception}var context=this;function handle(loc,caught){record.type="throw";record.arg=exception;context.next=loc;if(caught){context.method="next";context.arg=undefined}return!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];var record=entry.completion;if(entry.tryLoc==="root"){return handle("end")}if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc");var hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc){return handle(entry.catchLoc,true)}else if(this.prev<entry.finallyLoc){return handle(entry.finallyLoc)}}else if(hasCatch){if(this.prev<entry.catchLoc){return handle(entry.catchLoc,true)}}else if(hasFinally){if(this.prev<entry.finallyLoc){return handle(entry.finallyLoc)}}else{throw new Error("try statement without catch or finally")}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}if(finallyEntry&&(type==="break"||type==="continue")&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc){finallyEntry=null}var record=finallyEntry?finallyEntry.completion:{};record.type=type;record.arg=arg;if(finallyEntry){this.method="next";this.next=finallyEntry.finallyLoc;return ContinueSentinel}return this.complete(record)},complete:function complete(record,afterLoc){if(record.type==="throw"){throw record.arg}if(record.type==="break"||record.type==="continue"){this.next=record.arg}else if(record.type==="return"){this.rval=this.arg=record.arg;this.method="return";this.next="end"}else if(record.type==="normal"&&afterLoc){this.next=afterLoc}return ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc){this.complete(entry.completion,entry.afterLoc);resetTryEntry(entry);return ContinueSentinel}}},"catch":function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if(record.type==="throw"){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc};if(this.method==="next"){this.arg=undefined}return ContinueSentinel}};return exports}((typeof module==="undefined"?"undefined":_typeof(module))==="object"?module.exports:{});try{regeneratorRuntime=runtime}catch(accidentalStrictMode){Function("r","regeneratorRuntime = r")(runtime)}});
define("./src/setupGlobals.js",["./node_modules/regenerator-runtime/runtime.js"],function(_runtime){"use strict"});
define("./node_modules/preact/dist/preact.module.js",["exports"],function(_exports){"use strict";Object.defineProperty(_exports,"__esModule",{value:true});_exports.render=E;_exports.hydrate=H;_exports.h=_exports.createElement=v;_exports.Fragment=d;_exports.createRef=p;_exports.Component=y;_exports.cloneElement=I;_exports.createContext=L;_exports.toChildArray=b;_exports._unmount=A;_exports.options=_exports.isValidElement=void 0;var n,l,u,i,t,o,r,f={},e=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;_exports.isValidElement=l;_exports.options=n;function s(n,l){for(var u in l){n[u]=l[u]}return n}function a(n){var l=n.parentNode;l&&l.removeChild(n)}function v(n,l,u){var i,t=arguments,o={};for(i in l){"key"!==i&&"ref"!==i&&(o[i]=l[i])}if(arguments.length>3)for(u=[u],i=3;i<arguments.length;i++){u.push(t[i])}if(null!=u&&(o.children=u),"function"==typeof n&&null!=n.defaultProps)for(i in n.defaultProps){void 0===o[i]&&(o[i]=n.defaultProps[i])}return h(n,o,l&&l.key,l&&l.ref)}function h(l,u,i,t){var o={type:l,props:u,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0};return n.vnode&&n.vnode(o),o}function p(){return{}}function d(n){return n.children}function y(n,l){this.props=n,this.context=l}function m(n,l){if(null==l)return n.__?m(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++){if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e}return"function"==typeof n.type?m(n):null}function w(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++){if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}}return w(n)}}function g(l){(!l.__d&&(l.__d=!0)&&1===u.push(l)||t!==n.debounceRendering)&&((t=n.debounceRendering)||i)(k)}function k(){var n,l,i,t,o,r,f;for(u.sort(function(n,l){return l.__v.__b-n.__v.__b});n=u.pop();){n.__d&&(i=void 0,t=void 0,r=(o=(l=n).__v).__e,(f=l.__P)&&(i=[],t=z(f,o,s({},o),l.__n,void 0!==f.ownerSVGElement,null,i,null==r?m(o):r),T(i,o),t!=r&&w(o)))}}function _(n,l,u,i,t,o,r,c,s){var v,h,p,d,y,w,g,k=u&&u.__k||e,_=k.length;if(c==f&&(c=null!=o?o[0]:_?m(u,0):null),v=0,l.__k=b(l.__k,function(u){if(null!=u){if(u.__=l,u.__b=l.__b+1,null===(p=k[v])||p&&u.key==p.key&&u.type===p.type)k[v]=void 0;else for(h=0;h<_;h++){if((p=k[h])&&u.key==p.key&&u.type===p.type){k[h]=void 0;break}p=null}if(d=z(n,u,p=p||f,i,t,o,r,c,s),(h=u.ref)&&p.ref!=h&&(g||(g=[]),p.ref&&g.push(p.ref,null,u),g.push(h,u.__c||d,u)),null!=d){var e;if(null==w&&(w=d),void 0!==u.__d)e=u.__d,u.__d=void 0;else if(o==p||d!=c||null==d.parentNode){n:if(null==c||c.parentNode!==n)n.appendChild(d),e=null;else{for(y=c,h=0;(y=y.nextSibling)&&h<_;h+=2){if(y==d)break n}n.insertBefore(d,c),e=c}"option"==l.type&&(n.value="")}c=void 0!==e?e:d.nextSibling,"function"==typeof l.type&&(l.__d=c)}}return v++,u}),l.__e=w,null!=o&&"function"!=typeof l.type)for(v=o.length;v--;){null!=o[v]&&a(o[v])}for(v=_;v--;){null!=k[v]&&A(k[v],k[v])}if(g)for(v=0;v<g.length;v++){j(g[v],g[++v],g[++v])}}function b(n,l,u){if(null==u&&(u=[]),null==n||"boolean"==typeof n)l&&u.push(l(null));else if(Array.isArray(n))for(var i=0;i<n.length;i++){b(n[i],l,u)}else u.push(l?l("string"==typeof n||"number"==typeof n?h(null,n,null,null):null!=n.__e||null!=n.__c?h(n.type,n.props,n.key,null):n):n);return u}function x(n,l,u,i,t){var o;for(o in u){o in l||C(n,o,null,u[o],i)}for(o in l){t&&"function"!=typeof l[o]||"value"===o||"checked"===o||u[o]===l[o]||C(n,o,l[o],u[o],i)}}function P(n,l,u){"-"===l[0]?n.setProperty(l,u):n[l]="number"==typeof u&&!1===c.test(l)?u+"px":null==u?"":u}function C(n,l,u,i,t){var o,r,f,e,c;if(t?"className"===l&&(l="class"):"class"===l&&(l="className"),"key"===l||"children"===l);else if("style"===l){if(o=n.style,"string"==typeof u)o.cssText=u;else{if("string"==typeof i&&(o.cssText="",i=null),i)for(r in i){u&&r in u||P(o,r,"")}if(u)for(f in u){i&&u[f]===i[f]||P(o,f,u[f])}}}else"o"===l[0]&&"n"===l[1]?(e=l!==(l=l.replace(/Capture$/,"")),c=l.toLowerCase(),l=(c in n?c:l).slice(2),u?(i||n.addEventListener(l,N,e),(n.l||(n.l={}))[l]=u):n.removeEventListener(l,N,e)):"list"!==l&&"tagName"!==l&&"form"!==l&&"type"!==l&&"size"!==l&&!t&&l in n?n[l]=null==u?"":u:"function"!=typeof u&&"dangerouslySetInnerHTML"!==l&&(l!==(l=l.replace(/^xlink:?/,""))?null==u||!1===u?n.removeAttributeNS("http://www.w3.org/1999/xlink",l.toLowerCase()):n.setAttributeNS("http://www.w3.org/1999/xlink",l.toLowerCase(),u):null==u||!1===u?n.removeAttribute(l):n.setAttribute(l,u))}function N(l){this.l[l.type](n.event?n.event(l):l)}function z(l,u,i,t,o,r,f,e,c){var a,v,h,p,m,w,g,k,b,x,P=u.type;if(void 0!==u.constructor)return null;(a=n.__b)&&a(u);try{n:if("function"==typeof P){if(k=u.props,b=(a=P.contextType)&&t[a.__c],x=a?b?b.props.value:a.__:t,i.__c?g=(v=u.__c=i.__c).__=v.__E:("prototype"in P&&P.prototype.render?u.__c=v=new P(k,x):(u.__c=v=new y(k,x),v.constructor=P,v.render=D),b&&b.sub(v),v.props=k,v.state||(v.state={}),v.context=x,v.__n=t,h=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=P.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=s({},v.__s)),s(v.__s,P.getDerivedStateFromProps(k,v.__s))),p=v.props,m=v.state,h)null==P.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==P.getDerivedStateFromProps&&k!==p&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(k,x),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(k,v.__s,x)){for(v.props=k,v.state=v.__s,v.__d=!1,v.__v=u,u.__e=i.__e,u.__k=i.__k,v.__h.length&&f.push(v),a=0;a<u.__k.length;a++){u.__k[a]&&(u.__k[a].__=u)}break n}null!=v.componentWillUpdate&&v.componentWillUpdate(k,v.__s,x),null!=v.componentDidUpdate&&v.__h.push(function(){v.componentDidUpdate(p,m,w)})}v.context=x,v.props=k,v.state=v.__s,(a=n.__r)&&a(u),v.__d=!1,v.__v=u,v.__P=l,a=v.render(v.props,v.state,v.context),u.__k=null!=a&&a.type==d&&null==a.key?a.props.children:a,null!=v.getChildContext&&(t=s(s({},t),v.getChildContext())),h||null==v.getSnapshotBeforeUpdate||(w=v.getSnapshotBeforeUpdate(p,m)),_(l,u,i,t,o,r,f,e,c),v.base=u.__e,v.__h.length&&f.push(v),g&&(v.__E=v.__=null),v.__e=!1}else u.__e=$(i.__e,u,i,t,o,r,f,c);(a=n.diffed)&&a(u)}catch(l){n.__e(l,u,i)}return u.__e}function T(l,u){n.__c&&n.__c(u,l),l.some(function(u){try{l=u.__h,u.__h=[],l.some(function(n){n.call(u)})}catch(l){n.__e(l,u.__v)}})}function $(n,l,u,i,t,o,r,c){var s,a,v,h,p,d=u.props,y=l.props;if(t="svg"===l.type||t,null==n&&null!=o)for(s=0;s<o.length;s++){if(null!=(a=o[s])&&(null===l.type?3===a.nodeType:a.localName===l.type)){n=a,o[s]=null;break}}if(null==n){if(null===l.type)return document.createTextNode(y);n=t?document.createElementNS("http://www.w3.org/2000/svg",l.type):document.createElement(l.type,y.is&&{is:y.is}),o=null}if(null===l.type)null!=o&&(o[o.indexOf(n)]=null),d!==y&&n.data!=y&&(n.data=y);else if(l!==u){if(null!=o&&(o[o.indexOf(n)]=null,o=e.slice.call(n.childNodes)),v=(d=u.props||f).dangerouslySetInnerHTML,h=y.dangerouslySetInnerHTML,!c){if(d===f)for(d={},p=0;p<n.attributes.length;p++){d[n.attributes[p].name]=n.attributes[p].value}(h||v)&&(h&&v&&h.__html==v.__html||(n.innerHTML=h&&h.__html||""))}x(n,y,d,t,c),l.__k=l.props.children,h||_(n,l,u,i,"foreignObject"!==l.type&&t,o,r,f,c),c||("value"in y&&void 0!==y.value&&y.value!==n.value&&(n.value=null==y.value?"":y.value),"checked"in y&&void 0!==y.checked&&y.checked!==n.checked&&(n.checked=y.checked))}return n}function j(l,u,i){try{"function"==typeof l?l(u):l.current=u}catch(l){n.__e(l,i)}}function A(l,u,i){var t,o,r;if(n.unmount&&n.unmount(l),(t=l.ref)&&(t.current&&t.current!==l.__e||j(t,null,u)),i||"function"==typeof l.type||(i=null!=(o=l.__e)),l.__e=l.__d=void 0,null!=(t=l.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(l){n.__e(l,u)}t.base=t.__P=null}if(t=l.__k)for(r=0;r<t.length;r++){t[r]&&A(t[r],u,i)}null!=o&&a(o)}function D(n,l,u){return this.constructor(n,u)}function E(l,u,i){var t,r,c;n.__&&n.__(l,u),r=(t=i===o)?null:i&&i.__k||u.__k,l=v(d,null,[l]),c=[],z(u,(t?u:i||u).__k=l,r||f,f,void 0!==u.ownerSVGElement,i&&!t?[i]:r?null:e.slice.call(u.childNodes),c,i||f,t),T(c,l)}function H(n,l){E(n,l,o)}function I(n,l){return l=s(s({},n.props),l),arguments.length>2&&(l.children=e.slice.call(arguments,2)),h(n.type,l,l.key||n.key,l.ref||n.ref)}function L(n){var l={},u={__c:"__cC"+r++,__:n,Consumer:function Consumer(n,l){return n.children(l)},Provider:function Provider(n){var i,t=this;return this.getChildContext||(i=[],this.getChildContext=function(){return l[u.__c]=t,l},this.shouldComponentUpdate=function(l){n.value!==l.value&&i.some(function(n){n.context=l.value,g(n)})},this.sub=function(n){i.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){i.splice(i.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Consumer.contextType=u,u}_exports.options=n={__e:function __e(n,l){for(var u,i;l=l.__;){if((u=l.__c)&&!u.__)try{if(u.constructor&&null!=u.constructor.getDerivedStateFromError&&(i=!0,u.setState(u.constructor.getDerivedStateFromError(n))),null!=u.componentDidCatch&&(i=!0,u.componentDidCatch(n)),i)return g(u.__E=u)}catch(l){n=l}}throw n}},_exports.isValidElement=l=function l(n){return null!=n&&void 0===n.constructor},y.prototype.setState=function(n,l){var u;u=this.__s!==this.state?this.__s:this.__s=s({},this.state),"function"==typeof n&&(n=n(u,this.props)),n&&s(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),g(this))},y.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),g(this))},y.prototype.render=d,u=[],i="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,o=f,r=0});
define("./node_modules/redux-zero/preact/index.js",["module","exports","require","./node_modules/preact/dist/preact.module.js"],function(module,exports,require,_$0){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var preact=require("./node_modules/preact/dist/preact.module.js");var _extendStatics=function extendStatics(d,b){_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b){if(b.hasOwnProperty(p))d[p]=b[p]}};return _extendStatics(d,b)};function __extends(d,b){_extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}var _assign=function __assign(){_assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s){if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}}return t};return _assign.apply(this,arguments)};function shallowEqual(a,b){for(var i in a){if(a[i]!==b[i])return false}for(var i in b){if(!(i in a))return false}return true}function set(store,ret){if(ret!=null){if(ret.then)return ret.then(store.setState);store.setState(ret)}}function bindAction(action,store){return function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}if(typeof store.middleware==="function"){return store.middleware(store,action,args)}return set(store,action.apply(void 0,[store.getState()].concat(args)))}}function bindActions(actions,store,ownProps){actions=typeof actions==="function"?actions(store,ownProps):actions;var bound={};for(var name_1 in actions){var action=actions[name_1];bound[name_1]=bindAction(action,store)}return bound}var Connect=function(_super){__extends(Connect,_super);function Connect(props,context){var _this=_super.call(this,props,context)||this;_this.update=function(){var mapped=_this.getProps(_this.props,_this.context);if(!shallowEqual(mapped,_this.state)){_this.setState(mapped)}};_this.state=_this.getProps(props,context);_this.actions=_this.getActions();return _this}Connect.prototype.componentWillMount=function(){this.unsubscribe=this.context.store.subscribe(this.update)};Connect.prototype.componentWillUnmount=function(){this.unsubscribe(this.update)};Connect.prototype.componentWillReceiveProps=function(nextProps,nextContext){var mapped=this.getProps(nextProps,nextContext);if(!shallowEqual(mapped,this.state)){this.setState(mapped)}};Connect.prototype.getProps=function(props,context){var mapToProps=props.mapToProps;var state=context.store&&context.store.getState()||{};return mapToProps?mapToProps(state,props):state};Connect.prototype.getActions=function(){var actions=this.props.actions;return bindActions(actions,this.context.store,this.props)};Connect.prototype.render=function(_a,state,_b){var children=_a.children;var store=_b.store;var child=children&&children[0]||children;return child(_assign({store:store},state,this.actions))};return Connect}(preact.Component);var ConnectUntyped=Connect;function connect(mapToProps,actions){if(actions===void 0){actions={}}return function(Child){return function(_super){__extends(ConnectWrapper,_super);function ConnectWrapper(){return _super!==null&&_super.apply(this,arguments)||this}ConnectWrapper.prototype.render=function(){var props=this.props;return preact.h(ConnectUntyped,_assign({},props,{mapToProps:mapToProps,actions:actions}),function(mappedProps){return preact.h(Child,_assign({},mappedProps,props))})};return ConnectWrapper}(preact.Component)}}var Provider=function(_super){__extends(Provider,_super);function Provider(){return _super!==null&&_super.apply(this,arguments)||this}Provider.prototype.getChildContext=function(){return{store:this.props.store}};Provider.prototype.render=function(){return this.props.children&&this.props.children[0]||this.props.children};return Provider}(preact.Component);exports.connect=connect;exports.Provider=Provider;exports.Connect=Connect});
define("./node_modules/redux-zero/dist/redux-zero.js",["module"],function(module){'use strict';var _assign=function __assign(){_assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s){if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}}return t};return _assign.apply(this,arguments)};function createStore$1(initialState,middleware){if(initialState===void 0){initialState={}}if(middleware===void 0){middleware=null}var state=initialState||{};var listeners=[];function dispatchListeners(){listeners.forEach(function(f){return f(state)})}return{middleware:middleware,setState:function setState(update){state=_assign({},state,typeof update==="function"?update(state):update);dispatchListeners()},subscribe:function subscribe(f){listeners.push(f);return function(){listeners.splice(listeners.indexOf(f),1)}},getState:function getState(){return state},reset:function reset(){state=initialState;dispatchListeners()}}}module.exports=createStore$1});
define("./node_modules/redux-zero/middleware/index.js",["module","exports"],function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});function set(store,ret){if(ret!=null){if(ret.then)return ret.then(store.setState);store.setState(ret)}}var finalMiddleware=function finalMiddleware(store,args){return function(action){return set(store,action.apply(void 0,[store.getState()].concat(args)))}};function applyMiddleware(){var middlewares=[];for(var _i=0;_i<arguments.length;_i++){middlewares[_i]=arguments[_i]}middlewares.reverse();return function(store,action,args){if(middlewares.length<1){return set(store,action.apply(void 0,[store.getState()].concat(args)))}var chain=middlewares.map(function(middleware){return middleware(store)}).reduce(function(next,middleware){return middleware(next,args)},finalMiddleware(store,args));return chain(action)}}exports.applyMiddleware=applyMiddleware});
define("./node_modules/redux-zero/devtools/index.js",["module","exports"],function(module,exports){'use strict';function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}Object.defineProperty(exports,"__esModule",{value:true});var devTools={instance:null};var nextActions=[];var REPLAY_INTERVAL=10;function getOrAddAction(action,fn){var found=nextActions.find(function(x){return action.name===x.key});if(!found){found={key:action.name,fn:fn};nextActions.push(found)}return found}function replay(store,message){var state=JSON.parse(message.state);var runAction=function runAction(action){if(action.type==="initialState"){store.setState(state.computedStates[0].state)}else{var found=nextActions.find(function(x){return action.type===x.key});if(found){found.fn()}}};var keys=Object.keys(state.actionsById).filter(function(x){return parseInt(x,10)<=message.payload.id});var i=0;setTimeout(function run(){runAction(state.actionsById[keys[i]].action);if(++i>=keys.length)return;setTimeout(run,REPLAY_INTERVAL)},0)}function update(message){if(message.type==="DISPATCH"){if(message.payload.type==="JUMP_TO_ACTION"||message.payload.type==="JUMP_TO_STATE"){this.setState(JSON.parse(message.state))}else if(message.payload.type==="TOGGLE_ACTION"){replay(this,message)}}}function subscribe(store,middleware){if(!middleware.initialized){var storeUpdate=update.bind(store);if(devTools.instance){devTools.instance.subscribe(storeUpdate)}middleware.initialized=true}}var devtoolsMiddleware=function devtoolsMiddleware(store){return function(next,args){return function(action){var result=next(action);subscribe(store,devtoolsMiddleware);getOrAddAction(action,function(){return next(action)});var reduxAction={type:action.name,args:args};if(result&&result.then){return result.then(function(){return devTools.instance&&devTools.instance.send(reduxAction,store.getState())})}if(devTools.instance){devTools.instance.send(reduxAction,store.getState())}return result}}};if((typeof window==="undefined"?"undefined":_typeof(window))==="object"&&window.__REDUX_DEVTOOLS_EXTENSION__){exports.connect=function(initialState,options){devTools.instance=window.__REDUX_DEVTOOLS_EXTENSION__.connect(options);if(devTools.instance){devTools.instance.send("initialState",initialState)}return devtoolsMiddleware}}});
define("./src/store.js",["exports","./node_modules/redux-zero/dist/redux-zero.js","./node_modules/redux-zero/middleware/index.js","./node_modules/redux-zero/devtools/index.js"],function(_exports,_reduxZero,_index,_index2){"use strict";Object.defineProperty(_exports,"__esModule",{value:true});_exports["default"]=void 0;_reduxZero=_interopRequireDefault(_reduxZero);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var createInitialState=function createInitialState(){return{subscriptions:{}}};var configureStore=function configureStore(){var isDev=process.env.NODE_ENV==="development";var initialState=createInitialState();var middlewares=isDev&&_index2.connect?(0,_index.applyMiddleware)((0,_index2.connect)(initialState)):[];var store=(0,_reduxZero["default"])(initialState,middlewares);return store};var _default=configureStore;_exports["default"]=_default});
define("./node_modules/redux-zero/utils/index.js",["module","exports"],function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});function set(store,ret){if(ret!=null){if(ret.then)return ret.then(store.setState);store.setState(ret)}}function bindAction(action,store){return function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}if(typeof store.middleware==="function"){return store.middleware(store,action,args)}return set(store,action.apply(void 0,[store.getState()].concat(args)))}}function bindActions(actions,store,ownProps){actions=typeof actions==="function"?actions(store,ownProps):actions;var bound={};for(var name_1 in actions){var action=actions[name_1];bound[name_1]=bindAction(action,store)}return bound}var _assign=function __assign(){_assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s){if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}}return t};return _assign.apply(this,arguments)};var combineActions=function combineActions(){var actions=[];for(var _i=0;_i<arguments.length;_i++){actions[_i]=arguments[_i]}return function(){var actionsParams=[];for(var _i=0;_i<arguments.length;_i++){actionsParams[_i]=arguments[_i]}return actions.reduce(function(acc,action){return _assign({},acc,typeof action==="function"?action.apply(void 0,actionsParams):action)},{})}};exports.bindActions=bindActions;exports.combineActions=combineActions});
define("./src/reset.css",[],function(){"use strict"});
define("./src/base.css",[],function(){"use strict"});
define("./src/text-content.css",[],function(){"use strict"});
define("./src/forms.css",[],function(){"use strict"});
define("./src/content-sectioning.scss",[],function(){"use strict"});
define("./src/App.scss",[],function(){"use strict"});
define("./src/utils.js",["exports"],function(_exports){"use strict";Object.defineProperty(_exports,"__esModule",{value:true});_exports.setCookie=_exports.getCookie=_exports.getLocalStorage=_exports.getDocument=_exports.getWindow=void 0;var _this=void 0;function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}var getWindow=function getWindow(){return(typeof self==="undefined"?"undefined":_typeof(self))==="object"&&self.self===self&&self||(typeof global==="undefined"?"undefined":_typeof(global))==="object"&&global.global===global&&global||_this};_exports.getWindow=getWindow;var getDocument=function getDocument(){return getWindow().document||{}};_exports.getDocument=getDocument;var getLocalStorage=function getLocalStorage(){return getWindow().localStorage||{getItem:function getItem(){},setItem:function setItem(){}}};_exports.getLocalStorage=getLocalStorage;var getCookie=function getCookie(name){return(getDocument().cookie||"").replace(new RegExp("(?:(?:^|.*;s*)".concat(name,"s*=s*([^;]*).*$)|^.*$")),"$1")};_exports.getCookie=getCookie;var setCookie=function setCookie(name,value,expires){return getDocument().cookie="".concat(name,"=").concat(value,"; expires=").concat(expires)};_exports.setCookie=setCookie});
define("./src/selectors/subscriptions.js",["exports","./src/utils.js"],function(_exports,_utils){"use strict";Object.defineProperty(_exports,"__esModule",{value:true});_exports.getSubscriptionsAvailable=_exports.getPlacesAvailable=_exports.getCurrentUserHasSubscribed=_exports.getCurrentSubscription=_exports.getNextFreeRow=_exports.getSubscribers=_exports.maxSubscribers=_exports.maxPlaces=void 0;function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var maxPlaces=15;_exports.maxPlaces=maxPlaces;var maxSubscribers=100;_exports.maxSubscribers=maxSubscribers;var getSubscribers=function getSubscribers(state){try{return state.subscriptions.sheet.values.slice(1).filter(function(_ref){var _ref2=_slicedToArray(_ref,3),firstName=_ref2[0],lastName=_ref2[1],email=_ref2[2];return firstName&&lastName&&email})}catch(e){}return[]};_exports.getSubscribers=getSubscribers;var getNextFreeRow=function getNextFreeRow(state){var nextFreeRow;var rows=state.subscriptions.sheet.values||[];for(var i=1;i<rows.length;i++){var _rows$i=_slicedToArray(rows[i],3),first_name=_rows$i[0],last_name=_rows$i[1],email=_rows$i[2];if(first_name&&last_name&&email){nextFreeRow=i+2}}return nextFreeRow};_exports.getNextFreeRow=getNextFreeRow;var getCurrentSubscription=function getCurrentSubscription(){try{return JSON.parse((0,_utils.getLocalStorage)().getItem("subscription"))||{}}catch(e){return{}}};_exports.getCurrentSubscription=getCurrentSubscription;var getCurrentUserHasSubscribed=function getCurrentUserHasSubscribed(state){try{var _getCurrentSubscripti=getCurrentSubscription(),firstName=_getCurrentSubscripti.firstName,lastName=_getCurrentSubscripti.lastName,email=_getCurrentSubscripti.email;return state.subscriptions.sheet.values.slice(1).find(function(_ref3){var _ref4=_slicedToArray(_ref3,3),fn=_ref4[0],ln=_ref4[1],em=_ref4[2];return firstName===fn&&lastName===ln&&email===em})}catch(e){return false}};_exports.getCurrentUserHasSubscribed=getCurrentUserHasSubscribed;var getPlacesAvailable=function getPlacesAvailable(state){return maxPlaces-getSubscribers(state).length};_exports.getPlacesAvailable=getPlacesAvailable;var getSubscriptionsAvailable=function getSubscriptionsAvailable(state){return maxSubscribers-getSubscribers(state).length};_exports.getSubscriptionsAvailable=getSubscriptionsAvailable});
define("./src/actions/subscriptions.js",["exports","./src/utils.js","./src/selectors/subscriptions.js"],function(_exports,_utils,_subscriptions){"use strict";Object.defineProperty(_exports,"__esModule",{value:true});_exports.clearUserData=_exports.subscribe=_exports.setOwnLaptop=_exports.setEmail=_exports.setLastName=_exports.setFirstName=_exports.loadSubscriptionsSheet=_exports.clearBearerAndRefreshOnFail=_exports.authenticate=void 0;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}var spreadsheetId="1qea5ecpnkVWNRM1nfAV9Zp7qElTrkTid4LAmt1ZntbI";var dayInMilliseconds=24*60*60*1000;var authenticate=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var bearer,response,responseJson,expiryDate;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:bearer=(0,_utils.getLocalStorage)().getItem("Bearer");if(bearer){_context.next=10;break}_context.next=4;return fetch("https://oauth2.googleapis.com/token",{method:"POST",headers:{"Content-Type":"application/json"},redirect:"error",referrerPolicy:"no-referrer",body:JSON.stringify({client_secret:"en308ib3OufXvHGiA5XP-C3x",grant_type:"refresh_token",refresh_token:"1//0cnwWo9akW--QCgYIARAAGAwSNwF-L9IruWf7YVvuMn54ipiipA8D1VEHn7NKHvGciAiQv-h9YscYkR7wC2mYLgRfZkbuRhezVIY",client_id:"902534841986-dlb3ijv8t4r5er2vas21bc4pk7pqjf31.apps.googleusercontent.com"})});case 4:response=_context.sent;_context.next=7;return response.json();case 7:responseJson=_context.sent;expiryDate=new Date(Date.now()+responseJson.expires_in*1000-30);(0,_utils.getLocalStorage)().setItem("Bearer",responseJson.access_token,expiryDate.toUTCString());case 10:case"end":return _context.stop();}}},_callee)}));return function authenticate(){return _ref.apply(this,arguments)}}();_exports.authenticate=authenticate;var clearBearerAndRefreshOnFail=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(f){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return f();case 3:return _context2.abrupt("return",_context2.sent);case 6:_context2.prev=6;_context2.t0=_context2["catch"](0);(0,_utils.getLocalStorage)().removeItem("Bearer");document.location.reload();case 10:case"end":return _context2.stop();}}},_callee2,null,[[0,6]])}));return function clearBearerAndRefreshOnFail(_x){return _ref2.apply(this,arguments)}}();_exports.clearBearerAndRefreshOnFail=clearBearerAndRefreshOnFail;var loadSubscriptionsSheet=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return authenticate();case 2:return _context4.abrupt("return",clearBearerAndRefreshOnFail(_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var response,sheet;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch("https://sheets.googleapis.com/v4/spreadsheets/".concat(spreadsheetId,"/values/ilmoittautuneet!A1:E").concat(_subscriptions.maxSubscribers+1),{headers:{"Authorization":"Bearer ".concat((0,_utils.getLocalStorage)().getItem("Bearer"))}});case 2:response=_context3.sent;if(response.ok){_context3.next=5;break}throw new Error("call failed");case 5:_context3.next=7;return response.json();case 7:sheet=_context3.sent;return _context3.abrupt("return",{subscriptions:{sheet:sheet}});case 9:case"end":return _context3.stop();}}},_callee3)}))));case 3:case"end":return _context4.stop();}}},_callee4)}));return function loadSubscriptionsSheet(){return _ref3.apply(this,arguments)}}();_exports.loadSubscriptionsSheet=loadSubscriptionsSheet;var setFirstName=function setFirstName(state,firstName){return{firstName:firstName}};_exports.setFirstName=setFirstName;var setLastName=function setLastName(state,lastName){return{lastName:lastName}};_exports.setLastName=setLastName;var setEmail=function setEmail(state,email){return{email:email}};_exports.setEmail=setEmail;var setOwnLaptop=function setOwnLaptop(state,ownLaptop){return{ownLaptop:ownLaptop}};_exports.setOwnLaptop=setOwnLaptop;var subscribe=function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(state,firstName,lastName,email,ownLaptop){return regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return authenticate();case 2:return _context6.abrupt("return",clearBearerAndRefreshOnFail(_asyncToGenerator(regeneratorRuntime.mark(function _callee5(){var expiryDate,newState,nextFreeRow,userHasSubscribed,response;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:expiryDate=new Date(Date.now()+30*dayInMilliseconds);(0,_utils.getLocalStorage)().setItem("subscription",JSON.stringify({firstName:firstName,lastName:lastName,email:email,ownLaptop:ownLaptop}),expiryDate.toUTCString());_context5.next=4;return loadSubscriptionsSheet();case 4:newState=_context5.sent;nextFreeRow=(0,_subscriptions.getNextFreeRow)(newState);userHasSubscribed=(0,_subscriptions.getCurrentUserHasSubscribed)(newState);if(!(nextFreeRow&&!userHasSubscribed)){_context5.next=16;break}_context5.next=10;return fetch("https://sheets.googleapis.com/v4/spreadsheets/".concat(spreadsheetId,"/values:batchUpdate"),{method:"POST",headers:{"Authorization":"Bearer ".concat((0,_utils.getLocalStorage)().getItem("Bearer")),"Content-Type":"application/json"},redirect:"error",referrerPolicy:"no-referrer",body:JSON.stringify({valueInputOption:"RAW",data:{range:"ilmoittautuneet!A".concat(nextFreeRow,":D").concat(nextFreeRow),majorDimension:"ROWS",values:[[firstName,lastName,email,ownLaptop]]}})});case 10:response=_context5.sent;if(response.ok){_context5.next=13;break}throw new Error("call failed");case 13:_context5.next=15;return loadSubscriptionsSheet();case 15:return _context5.abrupt("return",_context5.sent);case 16:case"end":return _context5.stop();}}},_callee5)}))));case 3:case"end":return _context6.stop();}}},_callee6)}));return function subscribe(_x2,_x3,_x4,_x5,_x6){return _ref5.apply(this,arguments)}}();_exports.subscribe=subscribe;var clearUserData=function(){var _ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee8(){return regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return authenticate();case 2:return _context8.abrupt("return",clearBearerAndRefreshOnFail(_asyncToGenerator(regeneratorRuntime.mark(function _callee7(){return regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:(0,_utils.getLocalStorage)().removeItem("subscription");return _context7.abrupt("return",_objectSpread({},loadSubscriptionsSheet(),{firstName:undefined,lastName:undefined,email:undefined,ownLaptop:undefined}));case 2:case"end":return _context7.stop();}}},_callee7)}))));case 3:case"end":return _context8.stop();}}},_callee8)}));return function clearUserData(){return _ref7.apply(this,arguments)}}();_exports.clearUserData=clearUserData});
define("./src/App.js",["exports","./src/reset.css","./src/base.css","./src/text-content.css","./src/forms.css","./src/content-sectioning.scss","./src/App.scss","./node_modules/preact/dist/preact.module.js","./node_modules/redux-zero/preact/index.js","./src/selectors/subscriptions.js","./src/actions/subscriptions.js"],function(_exports,_reset,_base,_textContent,_forms,_contentSectioning,_App,_preactModule,_index,_subscriptions,_subscriptions2){"use strict";Object.defineProperty(_exports,"__esModule",{value:true});_exports["default"]=void 0;var mapStateToProps=function mapStateToProps(state){return{firstName:state.firstName,lastName:state.lastName,email:state.email,ownLaptop:state.ownLaptop,subscription:(0,_subscriptions.getCurrentSubscription)(),subscribers:(0,_subscriptions.getSubscribers)(state),placesAvailable:(0,_subscriptions.getPlacesAvailable)(state),subscriptionsAvailable:(0,_subscriptions.getSubscriptionsAvailable)(state),userHasSubscribed:(0,_subscriptions.getCurrentUserHasSubscribed)(state)}};var mapActionsToProps={setFirstName:_subscriptions2.setFirstName,setLastName:_subscriptions2.setLastName,setEmail:_subscriptions2.setEmail,setOwnLaptop:_subscriptions2.setOwnLaptop,subscribe:_subscriptions2.subscribe,clearUserData:_subscriptions2.clearUserData};function App(_ref){var setFirstName=_ref.setFirstName,setLastName=_ref.setLastName,setEmail=_ref.setEmail,setOwnLaptop=_ref.setOwnLaptop,firstName=_ref.firstName,lastName=_ref.lastName,email=_ref.email,ownLaptop=_ref.ownLaptop,clearUserData=_ref.clearUserData,placesAvailable=_ref.placesAvailable,subscribe=_ref.subscribe,subscribers=_ref.subscribers,subscriptionsAvailable=_ref.subscriptionsAvailable,userHasSubscribed=_ref.userHasSubscribed;var onSubmit=function onSubmit(e){e.preventDefault();subscribe(firstName,lastName,email,ownLaptop)};var onClearUserData=function onClearUserData(e){e.preventDefault();clearUserData()};return(0,_preactModule.h)("div",{className:"App"},(0,_preactModule.h)("main",null,(0,_preactModule.h)("img",{src:"src/logo.svg",className:"App-logo",alt:"logo"}),userHasSubscribed&&(0,_preactModule.h)(_preactModule.Fragment,null,(0,_preactModule.h)("h1",{className:"thanks-heading"},"Kiitos osallistumisestasi!"),(0,_preactModule.h)("form",{onSubmit:onClearUserData},(0,_preactModule.h)("button",null,"Ilmoita kaverisikin")),(0,_preactModule.h)("h2",null,"Ti. 7.4.2020"),(0,_preactModule.h)("h2",null,"Klo. 18:00")),!userHasSubscribed&&!subscriptionsAvailable&&(0,_preactModule.h)(_preactModule.Fragment,null,(0,_preactModule.h)("h1",null,"Lielahden kirkon koodaus kerho"),(0,_preactModule.h)("h2",null,"Ti. 1.9.2020"),(0,_preactModule.h)("h2",null,"Klo. 17:30"),(0,_preactModule.h)("h2",null,"Valitettavasti emme ota en\xE4\xE4 ilmoittautumisia vastaan")),!userHasSubscribed&&!!subscriptionsAvailable&&(0,_preactModule.h)(_preactModule.Fragment,null,(0,_preactModule.h)("h1",null,"Ilmoittaudu Lielahden kirkon koodaus kerhoon"),(0,_preactModule.h)("h2",null,"Ti. 1.9.2020"),(0,_preactModule.h)("h2",null,"Klo. 17:30"),(0,_preactModule.h)("h2",null,"Ilmoittautuneita: ",subscribers.length),(0,_preactModule.h)("h2",null,"Vapaita paikkoja: ",placesAvailable),!placesAvailable&&(0,_preactModule.h)("p",null,"Voit viel\xE4 ilmoittautua, vaikka paikkoja ei olekaan en\xE4\xE4 vapaana. Jos joku luopuu paikastaan, pyyd\xE4mme seuraavaa ilmoittautunutta h\xE4nen tilalleen."),(0,_preactModule.h)("form",{onSubmit:onSubmit},(0,_preactModule.h)("label",{"for":"first-name"},"Etunimi",(0,_preactModule.h)("input",{id:"first-name",type:"text",value:firstName,onChange:function onChange(_ref2){var target=_ref2.target;return setFirstName(target.value)}})),(0,_preactModule.h)("label",{"for":"last-name"},"Sukunimi",(0,_preactModule.h)("input",{id:"last-name",type:"text",value:lastName,onChange:function onChange(_ref3){var target=_ref3.target;return setLastName(target.value)}})),(0,_preactModule.h)("label",{"for":"email"},"S\xE4hkoposti",(0,_preactModule.h)("input",{id:"email",type:"email",value:email,onChange:function onChange(_ref4){var target=_ref4.target;return setEmail(target.value)}})),(0,_preactModule.h)("label",{"for":"own-laptop"},(0,_preactModule.h)("input",{id:"own-laptop",className:"own-laptop__input",type:"checkbox",value:ownLaptop,onChange:function onChange(_ref5){var target=_ref5.target;return setOwnLaptop(target.value)}}),(0,_preactModule.h)("span",{className:"own-laptop__label"}," Oma l\xE4pp\xE4ri")),(0,_preactModule.h)("button",null,"Ilmoittaudu")),(0,_preactModule.h)("p",null,"Kaikki yli seitsem\xE4m vuotiaat ovat tervetulleita ja tavoitteena on saada kerhoon noin kymmen lasta sek\xE4 viisi aikuista."),(0,_preactModule.h)("p",null,"Keskitymme JavaScript kielen opetteluun, mutta tunnit r\xE4\xE4t\xE4l\xF6id\xE4\xE4n jokaiselle taitotason ja kiinnostuksen kohteiden mukaan"),(0,_preactModule.h)("p",null,"Voit tuoda oman koneen mukaan ja kerholla on joitakin l\xE4pp\xE4reit\xE4 k\xE4ytett\xE4viss\xE4 jotka saa vied\xE4 kotiin mukaan 20\u20AC panttia vastaan."))),(0,_preactModule.h)("footer",null))}var _default=(0,_index.connect)(mapStateToProps,mapActionsToProps)(App);_exports["default"]=_default});
define("./src/index.scss",[],function(){"use strict"});
define("./src/index.js",["./src/setupGlobals.js","./node_modules/preact/dist/preact.module.js","./node_modules/redux-zero/preact/index.js","./src/store.js","./node_modules/redux-zero/utils/index.js","./src/App.js","./src/actions/subscriptions.js","./src/index.scss"],function(_setupGlobals,_preactModule,_index,_store,_index2,_App,_subscriptions,_index3){"use strict";_store=_interopRequireDefault(_store);_App=_interopRequireDefault(_App);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var init=function init(){var store=(0,_store["default"])();var Main=function Main(){return(0,_preactModule.h)(_index.Provider,{store:store},(0,_preactModule.h)(_App["default"],null))};var bound=(0,_index2.bindActions)({loadSubscriptionsSheet:_subscriptions.loadSubscriptionsSheet},store);bound.loadSubscriptionsSheet();(0,_preactModule.render)((0,_preactModule.h)(Main,null),document.body)};init()});
window.define.resume && window.define.resume();
//# sourceMappingURL=index.js.map